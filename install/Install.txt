Installation of Kirby/Pagefactory
=================================

 Starting Point
---------------
- This assumes you are working in a linux/unix environment.
- Further, it assumes that you will install PageFactory in a subfolder of doc-root.
- In other cases you'll need to slightly adapt the installation process.


Installation Script
-------------------

1) Download installation script:
      https://pagefactory.info/download/install.sh
    → best store it in the parent folder of your new web-app

2) Run install.sh <path-to-webapp> (e.g. ./install.sh webapp)

3) Open page in your browser, e.g. http://localhost:8888/webapp/


If a Kirby installation already exists:
1b) Download installation script:
      https://pagefactory.info/download/install-pagefactory.sh
    → to your webapp folder

2b) Cd to webapp folder and run install-pagefactory.sh
    (e.g. cd webapp; ./install-pagefactory.sh)



Manual Installation
-------------------

1) Cd to doc-root and create root folder of your new web-app, e.g. 'webapp/'

    mkdir webapp
    cd webapp


2) Clone Kirby's plainkit

    git clone https://github.com/getkirby/plainkit.git .


3) Clone PageFactory to folder 'site/plugins/pagefactory/'

    git clone https://github.com/pgfactory/kirby-pagefactory-plugin.git  site/plugins/pagefactory


4) Copy files to final location

    cp -R site/plugins/pagefactory/install/content/  content
    cp -R site/plugins/pagefactory/install/site/     site

5) Rename text files in page folders (aka meta-files) to 'z_pfy.txt' (resp. 'z_pfy.en.txt' etc.)

	mv content/home/home.txt content/home/z_pfy.txt



5) Open page in your browser, e.g. http://localhost:8888//webapp/


Note: How PageFactory becomes active
------------------------------------
For PageFactory to become active and render pages, meta-files MUST be called  'z_pfy.txt' (resp. 'z_pfy.en.txt' etc.).
For example:
    'site/home/z_pfy.txt' or
    'site/2_my-page/z_pfy.en.txt'   (-> published page and multiple languages active)

This instructs Kirby to trigger PageFactory's template 'site/templates/z_pfy.php'.
Any other meta-file names will let Kirby run its normal page rendering mechanism.
